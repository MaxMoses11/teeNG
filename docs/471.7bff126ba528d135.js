"use strict";(self.webpackChunkKZ22=self.webpackChunkKZ22||[]).push([[471],{2471:(z,a,i)=>{i.r(a),i.d(a,{OrderModule:()=>D});var f=i(6895),p=i(646),l=i(433),v=i(8505),u=i(8256),g=i(529);let F=(()=>{class r{constructor(e){this.http=e}createOrder(e){return this.http.post("https://testologia.site/order-tea",e)}}return r.\u0275fac=function(e){return new(e||r)(u.LFG(g.eN))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function h(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435. "),u.qZA())}function Z(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b. "),u.qZA())}function C(r,n){if(1&r&&(u.TgZ(0,"div",32),u.YNc(1,h,2,0,"div",20),u.YNc(2,Z,2,0,"div",20),u.qZA()),2&r){const e=u.oxw(2);let o,t;u.xp6(1),u.Q6J("ngIf",null==(o=e.orderForm.get("firstName"))||null==o.errors?null:o.errors.required),u.xp6(1),u.Q6J("ngIf",null==(t=e.orderForm.get("firstName"))||null==t.errors?null:t.errors.pattern)}}function x(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435. "),u.qZA())}function b(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b. "),u.qZA())}function A(r,n){if(1&r&&(u.TgZ(0,"div",32),u.YNc(1,x,2,0,"div",20),u.YNc(2,b,2,0,"div",20),u.qZA()),2&r){const e=u.oxw(2);let o,t;u.xp6(1),u.Q6J("ngIf",null==(o=e.orderForm.get("lastName"))||null==o.errors?null:o.errors.required),u.xp6(1),u.Q6J("ngIf",null==(t=e.orderForm.get("lastName"))||null==t.errors?null:t.errors.pattern)}}function y(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435. "),u.qZA())}function N(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430. "),u.qZA())}function T(r,n){if(1&r&&(u.TgZ(0,"div",32),u.YNc(1,y,2,0,"div",20),u.YNc(2,N,2,0,"div",20),u.qZA()),2&r){const e=u.oxw(2);let o,t;u.xp6(1),u.Q6J("ngIf",null==(o=e.orderForm.get("phone"))||null==o.errors?null:o.errors.required),u.xp6(1),u.Q6J("ngIf",null==(t=e.orderForm.get("phone"))||null==t.errors?null:t.errors.pattern)}}function E(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435. "),u.qZA())}function q(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435. "),u.qZA())}function O(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435. "),u.qZA())}function B(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041c\u043e\u0436\u043d\u043e \u0432\u0432\u043e\u0434\u0438\u0442\u044c: \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0434\u0435\u0444\u0438\u0441 \u0438 \u0441\u043b\u0435\u0448. "),u.qZA())}function I(r,n){if(1&r&&(u.TgZ(0,"div",32),u.YNc(1,O,2,0,"div",20),u.YNc(2,B,2,0,"div",20),u.qZA()),2&r){const e=u.oxw(2);let o,t;u.xp6(1),u.Q6J("ngIf",null==(o=e.orderForm.get("address"))||null==o.errors?null:o.errors.required),u.xp6(1),u.Q6J("ngIf",null==(t=e.orderForm.get("address"))||null==t.errors?null:t.errors.pattern)}}function w(r,n){1&r&&(u.TgZ(0,"div",34),u._uU(1,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),u.qZA())}function U(r,n){if(1&r){const e=u.EpF();u.TgZ(0,"form",3)(1,"h2",4),u._uU(2,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA(),u.TgZ(3,"div",5)(4,"div",6)(5,"label",7),u._uU(6,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(7,"input",8),u.qZA()(),u.TgZ(8,"div",9)(9,"div",6)(10,"label",10),u._uU(11,"\u0418\u043c\u044f"),u.qZA(),u._UZ(12,"input",11),u.YNc(13,C,3,2,"div",12),u.qZA(),u.TgZ(14,"div",6)(15,"label",13),u._uU(16,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(17,"input",14),u.YNc(18,A,3,2,"div",12),u.qZA(),u.TgZ(19,"div",6)(20,"label",15),u._uU(21,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(22,"input",16),u.YNc(23,T,3,2,"div",12),u.qZA()(),u.TgZ(24,"div",17)(25,"div",6)(26,"label",18),u._uU(27,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(28,"input",19),u.YNc(29,E,2,0,"div",20),u.qZA(),u.TgZ(30,"div",6)(31,"label",21),u._uU(32,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(33,"input",22),u.YNc(34,q,2,0,"div",20),u.qZA()(),u.TgZ(35,"div",23)(36,"div",6)(37,"label",7),u._uU(38,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(39,"input",24),u.YNc(40,I,3,2,"div",12),u.qZA()(),u.TgZ(41,"div",25)(42,"label",26),u._uU(43,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(44,"textarea",27),u.qZA(),u.TgZ(45,"div",28)(46,"div",29)(47,"button",30),u.NdJ("click",function(){u.CHM(e);const t=u.oxw();return u.KtG(t.submit())}),u._uU(48," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c "),u.qZA(),u.YNc(49,w,2,0,"div",31),u.qZA()()()}if(2&r){const e=u.oxw();let o,t,m,d,s,c;u.Q6J("formGroup",e.orderForm),u.xp6(13),u.Q6J("ngIf",(null==(o=e.orderForm.get("firstName"))?null:o.invalid)&&((null==(o=e.orderForm.get("firstName"))?null:o.touched)||(null==(o=e.orderForm.get("firstName"))?null:o.dirty))),u.xp6(5),u.Q6J("ngIf",(null==(t=e.orderForm.get("lastName"))?null:t.invalid)&&((null==(t=e.orderForm.get("lastName"))?null:t.touched)||(null==(t=e.orderForm.get("lastName"))?null:t.dirty))),u.xp6(5),u.Q6J("ngIf",(null==(m=e.orderForm.get("phone"))?null:m.invalid)&&((null==(m=e.orderForm.get("phone"))?null:m.touched)||(null==(m=e.orderForm.get("phone"))?null:m.dirty))),u.xp6(6),u.Q6J("ngIf",(null==(d=e.orderForm.get("country"))?null:d.invalid)&&((null==(d=e.orderForm.get("country"))?null:d.touched)||(null==(d=e.orderForm.get("country"))?null:d.dirty))&&(null==(d=e.orderForm.get("country"))||null==d.errors?null:d.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==(s=e.orderForm.get("zip"))?null:s.invalid)&&((null==(s=e.orderForm.get("zip"))?null:s.touched)||(null==(s=e.orderForm.get("zip"))?null:s.dirty))&&(null==(s=e.orderForm.get("zip"))||null==s.errors?null:s.errors.required)),u.xp6(6),u.Q6J("ngIf",(null==(c=e.orderForm.get("address"))?null:c.invalid)&&((null==(c=e.orderForm.get("address"))?null:c.touched)||(null==(c=e.orderForm.get("address"))?null:c.dirty))),u.xp6(7),u.Q6J("disabled",e.loading),u.xp6(2),u.Q6J("ngIf",e.errorResponse)}}function J(r,n){1&r&&(u.TgZ(0,"div",35)(1,"p",36),u._uU(2,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437. \u041c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f!"),u.qZA()())}const Y=[{path:"",component:(()=>{class r{constructor(e,o,t){this.fb=e,this.orderService=o,this.activatedRoute=t,this.successResponse=!1,this.errorResponse=!1,this.loading=!1,this.orderForm=this.fb.group({product:[{value:"",disabled:!0},[l.kI.required]],firstName:["",[l.kI.required,l.kI.pattern("^[\u0430-\u044f\u0410-\u042f]+$")]],lastName:["",[l.kI.required,l.kI.pattern("^[\u0430-\u044f\u0410-\u042f]+$")]],phone:["",[l.kI.required,l.kI.pattern("^[\\+]?[\\d]{11}$")]],country:["",[l.kI.required]],zip:["",[l.kI.required]],address:["",[l.kI.required,l.kI.pattern("^[\u0430-\u044f\u0410-\u042f\\s0-9-/]+$")]],comment:[""]}),this.submitSubscription=null,this.subscription=null}ngOnInit(){this.subscription=this.activatedRoute.queryParams.subscribe(e=>{e.product&&this.orderForm.patchValue({product:e.product})})}submit(){if(this.orderForm.value&&this.orderForm.controls.firstName.value&&this.orderForm.controls.lastName.value&&this.orderForm.controls.phone.value&&this.orderForm.controls.country.value&&this.orderForm.controls.zip.value&&this.orderForm.controls.product.value&&this.orderForm.controls.address.value){const e={name:this.orderForm.controls.firstName.value,last_name:this.orderForm.controls.lastName.value,phone:this.orderForm.controls.phone.value,country:this.orderForm.controls.country.value,zip:this.orderForm.controls.zip.value,product:this.orderForm.controls.product.value,address:this.orderForm.controls.address.value};this.orderForm.controls.comment.value&&(e.comment=this.orderForm.controls.comment.value),this.loading=!0,this.submitSubscription=this.orderService.createOrder(e).pipe((0,v.b)(o=>{!o.success&&o.message&&(this.errorResponse=!0,this.loading=!1,setTimeout(()=>{this.errorResponse=!1},3e3))})).subscribe({next:o=>{o.success&&!o.message&&(this.successResponse=!0)},error:()=>{this.errorResponse=!0}})}}ngOnDestroy(){this.submitSubscription?.unsubscribe(),this.subscription?.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(u.Y36(l.qu),u.Y36(F),u.Y36(p.gz))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-order"]],decls:3,vars:2,consts:[[1,"container","d-flex","justify-content-center","mt-4","mt-lg-5","pb-4","pb-lg-5"],["class","w-50","id","form","method","post",3,"formGroup",4,"ngIf"],["class","new-popup w-50 border border-primary rounded p-5 justify-content-center align-items-center",4,"ngIf"],["id","form","method","post",1,"w-50",3,"formGroup"],[1,"text-center","mb-4","mb-lg-5","fw-bold"],[1,"row","mb-3"],[1,"col"],["for","address",1,"fs-5","mb-1"],["id","product","type","text","formControlName","product",1,"input","form-control","rounded","w-100","py-2"],[1,"row","row-cols-1","row-cols-lg-3","mb-2"],["for","firstName",1,"fs-5","mb-1"],["formControlName","firstName","id","firstName","type","text",1,"input","form-control","rounded","w-100","py-2"],["class","w-100",4,"ngIf"],["for","lastName",1,"fs-5","mb-1"],["formControlName","lastName","id","lastName","type","text",1,"input","form-control","rounded","w-100","py-2"],["for","phone",1,"fs-5","mb-1"],["id","phone","type","text","formControlName","phone",1,"input","form-control","rounded","w-100","py-2"],[1,"row","row-cols-1","row-cols-lg-2","mb-2"],["for","country",1,"fs-5","mb-1"],["id","country","type","text","formControlName","country",1,"input","form-control","rounded","w-100","py-2"],["class","invalid-feedback",4,"ngIf"],["for","zip",1,"fs-5","mb-1"],["id","zip","type","text","formControlName","zip",1,"input","form-control","rounded","w-100","py-2"],[1,"row","mb-2"],["id","address","type","text","formControlName","address",1,"input","form-control","rounded","w-100","py-2"],[1,"mb-3"],["for","floatingTextarea",1,"fs-5","mb-1"],["placeholder","","id","floatingTextarea","formControlName","comment",1,"form-control"],[1,"row"],[1,"col-12","col-lg-4"],["type","button","id","submit-button",1,"btn","btn-primary","w-100","hvr-grow-shadow",3,"disabled","click"],["class","error text-danger mt-2 w-100",4,"ngIf"],[1,"w-100"],[1,"invalid-feedback"],[1,"error","text-danger","mt-2","w-100"],[1,"new-popup","w-50","border","border-primary","rounded","p-5","justify-content-center","align-items-center"],[1,"fs-2","text-center"]],template:function(e,o){1&e&&(u.TgZ(0,"section",0),u.YNc(1,U,50,9,"form",1),u.YNc(2,J,3,0,"div",2),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngIf",!o.successResponse),u.xp6(1),u.Q6J("ngIf",o.successResponse))},dependencies:[f.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:["input.ng-invalid.ng-dirty[_ngcontent-%COMP%], input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}.invalid-feedback[_ngcontent-%COMP%]{display:block}"]}),r})()}];let _=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[p.Bz.forChild(Y),p.Bz]}),r})();var Q=i(4466);let D=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[f.ez,_,Q.m,l.u5,l.UX,p.Bz,_]}),r})()}}]);